(()=>{var e={873:(e,t,n)=>{var r=n(706).Symbol;e.exports=r},552:(e,t,n)=>{var r=n(873),i=n(659),o=n(350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},128:(e,t,n)=>{var r=n(800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},659:(e,t,n)=>{var r=n(873),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[l]=n:delete e[l]),i}},350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},706:(e,t,n)=>{var r=n(840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},221:(e,t,n)=>{var r=n(805),i=n(124),o=n(374),a=Math.max,l=Math.min;e.exports=function(e,t,n){var s,c,d,u,f,p,m=0,g=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=s,r=c;return s=c=void 0,m=t,u=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||h&&e-m>=d}function x(){var e=i();if(b(e))return w(e);f=setTimeout(x,function(e){var n=t-(e-p);return h?l(n,d-(e-m)):n}(e))}function w(e){return f=void 0,y&&s?v(e):(s=c=void 0,u)}function L(){var e=i(),n=b(e);if(s=arguments,c=this,p=e,n){if(void 0===f)return function(e){return m=e,f=setTimeout(x,t),g?v(e):u}(p);if(h)return clearTimeout(f),f=setTimeout(x,t),v(p)}return void 0===f&&(f=setTimeout(x,t)),u}return t=o(t)||0,r(n)&&(g=!!n.leading,d=(h="maxWait"in n)?a(o(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),L.cancel=function(){void 0!==f&&clearTimeout(f),m=0,s=p=c=f=void 0},L.flush=function(){return void 0===f?u:w(i())},L}},846:(e,t,n)=>{var r=n(489);e.exports=function(e){return"number"==typeof e&&e==r(e)}},23:(e,t,n)=>{var r=n(552),i=n(346);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},394:(e,t,n)=>{var r=n(552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},124:(e,t,n)=>{var r=n(706);e.exports=function(){return r.Date.now()}},969:(e,t,n)=>{var r=n(221),i=n(805);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},400:(e,t,n)=>{var r=n(374),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},489:(e,t,n)=>{var r=n(400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},374:(e,t,n)=>{var r=n(128),i=n(805),o=n(394),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";var e={js:{load:function(e,t){return new Promise(((n,r)=>{try{var i=document.createElement("script");t?window[t]=function(e){n(e)}:(i.onload=function(e){n(e)},i.onerror=function(e){r(e)}),i.src=e,document.getElementsByTagName("head")[0].appendChild(i)}catch(e){r(e)}}))},cache:{}},css:{load:function(e){return new Promise(((t,n)=>{try{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=e,r.onload=function(e){t(e)},r.onerror=function(e){n(e)}}catch(e){n(e)}}))},cache:{}}};var t=0;const r=[],i=async function(n){return new Promise((i=>{if(2===t)i(window.google&&window.google.map);else{if(0===t){t=1;var o="https://maps.googleapis.com/maps/api/js?"+n;Object.keys({callback:"googlemapcallback"}).forEach((e=>{o+="&"+e+"="+Object[e]})),a={files:[o],type:"js",callback:"googlemapcallback"},l=Object.assign({files:[]},a),s=[],l.files&&l.files.length&&l.files.forEach((function(t){var n,r,i,o,a;s.push((n=t,r=l.type,i=l.callback,o=r||function(e){if(e)return e.substring(e.lastIndexOf(".")+1,e.length)}(n),(a=e[o])&&a.cache?!!a.cache[n]||(a.cache[n]=!0,a.load(n,i)):(console.log("do not support load"+o),!1)))})),Promise.all(s),window.googlemapcallback=function(){t=2,window.google&&window.google.map&&r.forEach((e=>{e(window.google.map)}))}}r.push(i)}var a,l,s}))},o=()=>"undefined"!=typeof window&&"http:"===window.location.protocol,a=e=>{o()&&console.error(e)},l=e=>{o()&&console.info(e)},s={},c=["click"],d=function(e,t,n){if(!t||"function"!=typeof t)return void a("call back is not a function");let r=e.split(" "),i=n||!1;r=r.map((e=>e.split("."))),r.forEach((e=>{let[n,r]=e;r=r||"DEFAULT",s[n]||(s[n]={}),s[n][r]||(s[n][r]=[]),-1===c.indexOf(n)?s[n][r].push(t):window.addEventListener(n,t,i)}))},u=function(e){let t=e.split(" ");t=t.map((e=>e.split("."))),t.forEach((e=>{let[t,n]=e;n=n||"DEFAULT",s[t]&&s[t][n]&&(-1===c.indexOf(t)?delete s[t][n]:s[t][n].forEach((e=>{window.removeEventListener(t,e)})))}))},f=function(e,t){let n=e.split(" ");n=n.map((e=>e.split("."))),n.forEach((e=>{let[n,r]=e;if(r=r||"DEFAULT",!s[n])return void l("event "+n+" emited, but no oberserver");let i=Array.isArray(t)?t:[t];if("DEFAULT"===r)for(let e in s[n])s[n][e].forEach((e=>{e.apply(this,i)}));else s[n][r]?s[n][r].forEach((e=>{e.apply(this,i)})):l("event "+e+" emited, but no oberserver")}))},p=function(e){var t=Array.prototype.slice.call(arguments);t=t.slice(1,t.length),"function"==typeof e?e.apply(this,t):"string"==typeof e&&("function"==typeof window[e]?window[e].apply(this,t):f.apply(this,[e,t]))};class m{constructor(e,t){e?(this.name=e,this.type=t||"base"):a(`"name" of ${t} is required`)}}let g=0;class h extends m{constructor(e){super(e.name,"plugin");const t=Object.assign({name:"",defaultOpt:{},init:null,load:null,render:null,destroy:null},e);let n=h.getPlugin(t.name);this.setting=t,n||h.register.apply(this,[t])}static namespace="cui";static records={};static instanceMap=new Map;static pendingCleanup=new Set;static cleanupScheduled=!1;static getPlugin(e){return h.records[h.namespace+"_"+e]}static setPlugin(e,t){e&&t?h.records[h.namespace+"_"+e]=t:a("plugin name or plugin is required")}static async dependenceHandler(e){if("googlemap"==e)return await i(window.googleMapKey)}static setInstance(e,t){let n=h.namespace,r=e.dataset[n];if(!t._pid)return void a(n+" miss _pid");r?r+=","+t._pid:r=t._pid,e.dataset[n]=r;let i=`${n}_${t._pid}`;h.instanceMap.set(i,t)}static scheduleCleanup(){h.cleanupScheduled||(h.cleanupScheduled=!0,l("[Plugin] Scheduling cleanup, pending elements:",h.pendingCleanup.size),(window.requestIdleCallback?window.requestIdleCallback:e=>setTimeout(e,0))((()=>{l("[Plugin] Performing cleanup"),h.performCleanup(),h.cleanupScheduled=!1})))}static performCleanup(){const e=h.pendingCleanup.size;l(`[Plugin] Starting cleanup for ${e} element(s)`);let t=0;h.pendingCleanup.forEach((e=>{h.cleanupInstance(e)&&t++})),h.pendingCleanup.clear(),l(`[Plugin] Cleanup completed: ${t}/${e} element(s) cleaned`)}static cleanupInstance(e){if(!e||!e.dataset)return l("[Plugin] cleanupInstance: element is null or has no dataset"),!1;let t=h.namespace,n=e.dataset[t];if(!n)return l("[Plugin] cleanupInstance: element has no plugin instances",e.tagName),!1;l(`[Plugin] cleanupInstance: cleaning up element with pids: ${n}`,(e.tagName,e.id,e.className));let r=0;return n.split(",").forEach((e=>{let n=`${t}_${e}`,i=h.instanceMap.get(n);if(i){if(l(`[Plugin] cleanupInstance: found instance ${n}, calling destroy`),i.destroy&&"function"==typeof i.destroy)try{i.destroy(),l(`[Plugin] cleanupInstance: destroy called for ${n}`)}catch(e){a("Error calling destroy on exportObj:")}h.instanceMap.delete(n),r++,l(`[Plugin] cleanupInstance: removed instance ${n} from Map`)}else l(`[Plugin] cleanupInstance: instance ${n} not found in Map`)})),l(`[Plugin] cleanupInstance: cleaned ${r} instance(s) for element`),r>0}static getInstance(e,t){let n=h.namespace,r=e.dataset[n];if(!r)return null;let i=r.split(",");t||(t=i[0]||"");let o=i.find((e=>e.indexOf(t)>-1));if(!o)return null;let a=`${n}_${o}`;return h.instanceMap.get(a)||null}static register(e){h.setPlugin(e.name,(async(t,n)=>{t||a("html node is required");let r=h.getInstance(t,e.name);if(r)return n&&r.setOptions&&r.setOptions(n),r;r={};let i=null;return e.dependence&&(i=await h.dependenceHandler(e.dependence)),await this.init(t,n,r,i),h.setInstance(t,r),r}))}initBefore(e,t,n){l("init"+(t&&t.role?" "+t.role:"")),this.setting.initBefore&&p(this.setting.initBefore,e,t,n)}initAfter(e,t,n){l("inited"+(t&&t.role?" "+t.role:"")),this.setting.initAfter&&p(this.setting.initAfter,e,t,n)}loadBefore(e,t,n){l((t&&t.role?t.role+" ":"")+"load"),this.setting.loadBefore&&p(this.setting.loadBefore,e,t,n)}loadAfter(e,t,n){l((t&&t.role?t.role+" ":"")+"loaded"),this.setting.loadAfter&&p(this.setting.loadAfter,e,t,n)}renderBefore(e,t,n){l((t&&t.role?t.role+" ":"")+"render"),this.setting.renderBefore&&p(this.setting.renderBefore,e,t,n)}renderAfter(e,t,n){l((t&&t.role?t.role+" ":"")+"rendered"),this.setting.renderAfter&&p(this.setting.renderAfter,e,t,n)}destroyBefore(e,t,n){l((t&&t.role?t.role+" ":"")+"destroy"),this.setting.destroyBefore&&p(this.setting.destroyBefore,e,t,n)}destroyAfter(e,t,n){l((t&&t.role?t.role+" ":"")+"destoried"),this.setting.destroyAfter&&p(this.setting.destroyAfter,e,t,n)}async init(e,t,n={}){var r=Object.assign({},this.setting.defaultOpt,{...t,_pid:`${this.setting.name}_${g++}`});return n._pid=r._pid,this.initBefore(e,r,n),this.setting.init&&this.setting.init.apply(this,[e,r,n]),this.initAfter(e,r,n),this.loadBefore(e,r,n),this.setting.load&&await this.setting.load.apply(this,[e,r,n]),this.loadAfter(e,r,n),this.renderBefore(e,r,n),this.setting.render&&this.setting.render.apply(this,[e,r,n]),this.renderAfter(e,r,n),n}}var y=n(846);const v=function(e){return/^\d{10}$/.test(e)},b=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},x=function(e){return/^\d{5}$/.test(e)},w=function(e){return y(e)&&e>0};var L=n(969),A=n(221);class E extends h{constructor(e,t=null){e||a("ctx is required");let n=E.getSettingByCtx(e,t);super(n,n.name||"page")}static getSettingByCtx(e,t=null){return{name:t&&t.name?t.name:"page",init:function(n,r,i){return n||(n=document.querySelector("body")),l("initing"),Object.assign(e,E.initCtxByWindow(e)),Object.assign(e,E.initCtxByUa(e)),Object.assign(e,E.initCtxByUrl(e)),Object.assign(e,E.initCtxByCookie(e)),Object.assign(e,E.initCtxByStorage(e)),i.ctx=e,t&&t.init&&t.init(n,r,i),i},load:async function(e,n,r){l("loading");let i=r&&r.ctx&&r.data?r.ctx.data:{};if(t&&t.load)try{let i=await t.load(e,n,r);i&&i.data&&(r.ctx=Object.assign(r.ctx.data,i.data))}catch(e){a(e)}return i&&(r.ctx.data=i),r},render:function(e,n,r){return E.eventListener(),t&&t.render&&t.render(e,n,r),f("dom.load"),r}}}static getScrollTop(){return window.scrollY||document.documentElement.scrollTop}static isLandscape(){return E.width>E.height}static getHeight(){return window.innerHeight}static getWidth(){return window.innerWidth}static inputing(){let e=document.activeElement?document.activeElement.tagName:"";return["TEXTAREA","INPUT","SELECT"].indexOf(e)>-1}static recycler(){}static refreshComponents(e=document){const t=e.querySelectorAll?Array.from(e.querySelectorAll("[data-role]")):[];e.matches&&e.matches("[data-role]")&&t.unshift(e),t.forEach((e=>{if(e.hasAttribute("loaded"))return;const t=e.dataset,n=t.role;n&&(e.setAttribute("loaded",1),n.trim().split(/\s+/g).forEach((n=>{const r=h.getPlugin(n);r&&r(e,t)})),e.setAttribute("loaded",2))}))}static init;static width;static height;static landscape;static scrollTop;static onResize(){E.updatePageInfo(),E.landscape?(document.querySelector("body").classList.add("landscape"),document.querySelector("body").classList.remove("portrait")):(document.querySelector("body").classList.add("portrait"),document.querySelector("body").classList.remove("landscape")),f("dom.resize")}static onScroll(){E.scrollTop=E.getScrollTop(),E.scrollTop>400?E.isScrollDown=!0:E.isScrollDown=!1,E.isScrollDown?document.querySelector("body").classList.add("scroll-down"):document.querySelector("body").classList.remove("scroll-down"),f("dom.scroll",{scrollTop:E.scrollTop,isScrollDown:E.isScrollDown})}static updatePageInfo(){E.width=E.getWidth(),E.height=E.getHeight(),E.scrollTop=E.getScrollTop(),E.landscape=E.isLandscape()}static initCtxByWindow(){return E.updatePageInfo(),{isLandscape:E.landscape,scrollTop:E.scrollTop,height:E.height,width:E.width}}static initCtxByUa(e){l("initCtxByUa");let t={};var n;return void 0===e.isMobile&&(t.isMobile=(n=window.navigator.userAgent,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n))),t}static initCtxByUrl(){return l("initCtxByUrl"),{}}static initCtxByCookie(){return l("initCtxByCookie"),{}}static initCtxByStorage(){return l("initCtxByStorage"),{}}static eventListener(){l("add event for renderComponent"),d("dom.load",L((()=>{E.refreshComponents()}))),d("dom.updated",(e=>{(e&&e.elements?e.elements:[e]).forEach((e=>{e&&e.querySelectorAll&&E.refreshComponents(e)}))})),window.addEventListener("resize",A((()=>{E.inputing()||E.onResize()}),100)),window.addEventListener("scroll",A((e=>{E.onScroll()}),100))}}const S={name:"collapse",defaultOpt:{shown:!1,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,target:null},init:function(e,t,n){let r=document.querySelector(t.target);n.show=function(){t.beforeShow&&p(t.beforeShow,e,t,n),e.classList.add("shown"),r.classList.add("shown"),n.shown=!0,t.afterShow&&p(t.afterShow,e,t,n)},n.hide=function(){t.beforeHide&&p(t.beforeHide,e,t,n),e.classList.remove("shown"),r.classList.remove("shown"),n.shown=!1,t.afterHide&&p(t.afterHide,e,t,n)},n.toggle=function(){e.classList.contains("shown")?n.hide():n.show()}},setOptionsBefore:null,setOptionsAfter:null,initBefore:null,initAfter:function(e,t,n){t.shown?n.show():n.hide(),e.addEventListener("click",n.toggle)},destroyBefore:function(e){e.off("click.collapse")}},$={name:"dialog",defaultOpt:{cache:!1,autoclose:!0,theme:"default",target:null,trigger:null,beforeRender:null,afterRender:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null},init:function(e,t,n){let r=n.show=function(){t.root||o(),f("dialog.hidden.except",[t._pid]),t.beforeShow&&p(t.beforeShow,e,t,n),document.querySelector("body").classList.add("dialog-model"),t.root.style.display="block",setTimeout((function(){t.root.classList.add("dialog-active"),t.afterShow&&p(t.afterShow,e,t,n)}),50),d("dialog.hidden.except"+t._pid,(function(e,r){r!=t._pid&&n.hide()}))},i=n.hide=function(){t.root&&(t.beforeHide&&p(t.beforeHide,e,t,n),t.root.classList.remove("dialog-active"),setTimeout((function(){t.root.style.display="none",document.querySelector("body").classList.remove("dialog-model"),t.afterHide&&p(t.beforeHide,e,t,n),t.cache||(t.root.remove(),t.root=null,u("dialog.hidden.except"+t._pid))}),500))},o=n.render=function(){let r=`<div id="${t._pid}" class="dialog dialog-${t.theme}" tabIndex="-1"><div class="dialog-overlay"></div><div class="dialog-panel"><div class="dialog-body"><button class="dialog-title-close" data-dialog="close" type="button"><i class="icon-close"></i></button>${t.html}</div></div>`;f("dom.load"),t.beforeRender&&p(t.beforeRender,e,t,n),document.querySelector("body").insertAdjacentHTML("beforeend",r),t.root=document.querySelector("#"+t._pid),t.root.style.display="none",t.root.querySelectorAll('[data-dialog="close"]').forEach((e=>{e.addEventListener("click",(function(){i()}))})),t.autoclose&&t.root.querySelector(".dialog-overlay").addEventListener("click",(function(){i()})),t.afterRender&&p(t.afterRender,e,t,n)};e.addEventListener("click",(function(e){let n=e.currentTarget.dataset,i=document.querySelector(n.target);return t.html=i.innerHTML,n.trigger=e.target,r(),!1}))},setOptionsBefore:null,setOptionsAfter:null,initBefore:null,initAfter:function(e,t,n){},destroyBefore:function(e){}},I={name:"form",defaultOpt:{onsubmit:null},initBefore:null,init:function(e,t,n){return n.isValid=function(){let t=null,n=!0;return e.querySelectorAll('[data-role*="validate"]').forEach((function(e,r){let i=h.getInstance(e,"validate");return!i||(i.isValid()?void 0:(n=!1,t||(t=e),!1))})),t&&t.focus(),n},n.getValue=function(){let t={};return e.querySelectorAll("input").forEach((function(e,n){let r=e.name;["radio","checkbox"].includes(e.type)||r&&(t[r]=e.value)})),e.querySelectorAll("textarea").forEach((function(e,n){let r=e.name;r&&(t[r]=e.value)})),e.querySelectorAll("select").forEach((function(e,n){let r=e.name;r&&(t[r]=e.value)})),e.querySelectorAll(".checkbox").forEach((function(e,n){let r,i;if(i=e.querySelectorAll('input[type="checkbox"]'),i&&i.length>0){let e=i[0].name;e&&(i&&1===i.length?(r=i[0],r&&r.checked?t[e]=!r.value||r.value:t[e]=!!r.value&&""):i&&i.length>1&&(t[e]=[],i.forEach((n=>{n&&n.checked&&t[e].push(n.value)}))))}})),e.querySelectorAll(".radio").forEach((e=>{let n=e.querySelectorAll('input[type="radio"]');if(n&&n.length>0){let e=n[0].name;e&&(t[e]="",n.forEach((n=>{n&&n.checked&&(t[e]=!n.value||n.value)})))}})),t},e.addEventListener("submit",(e=>{let r;e.preventDefault();try{r=n.isValid()}catch(e){console.error(e)}if(!r)return;let i=n.getValue();p(t.onsubmit,i)})),n},setOptionsBefore:null,setOptionsAfter:null,destroyBefore:null,initAfter:null},C={guid:1,get:function(){return this.guid++}},q=["header-close"],O={name:"header",defaultOpt:{container:"html",autoclose:!0},init:function(e,t,n){q.forEach((r=>{!function(e,t,n,r){let i=function(e){return e?e.split("-").reduce(((e,t)=>t?e+t.charAt(0).toUpperCase()+t.slice(1):e),""):e}(e),o=i.charAt(0).toUpperCase()+i.slice(1);r[`add${o}`]=()=>{n[`beforeAdd${o}`]&&p(n[`beforeAdd${o}`],t,n,r),t.classList.add(e),r[i]=!0,n[`afterAdd${o}`]&&p(n[`afterAdd${o}`],t,n,r)},r[`remove${o}`]=()=>{n[`beforeRemove${o}`]&&p(n[`beforeRemove${o}`],t,n,r),t.classList.remove(e),r[i]=!1,n[`afterRemove${o}`]&&p(n[`afterRemove${o}`],t,n,r)},r[`toggle${o}`]=()=>{t.classList.contains(e)?r[`remove${o}`]():r[`add${o}`]()},r[`is${o}`]=()=>t.classList.contains(e)}(r,e,t,n)}));let r=e.querySelector(".header-menu-list"),i=r.querySelectorAll(".list"),o=document.createElement("div");o.className="header-overlay",e.prepend(o);let a=e.querySelectorAll(".header-switch-link");t.id=C;let l=n.addHeaderClose,s=n.removeHeaderClose,c=function(){document.body.classList.add("body-expand-header")},u=function(){document.body.classList.remove("body-expand-header"),r.querySelectorAll("li").forEach((e=>{e.classList.remove("hover"),e.style.height=""}))};o.addEventListener("click",u),i.forEach((function(e){let t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("class","header-expand"),t.innerHTML='<i class="icon-caret-left"></i>',t.addEventListener("click",(function(t){let n=e;if(n.classList.contains("hover"))n.classList.remove("hover"),n.style.height="";else{let e=r.querySelector(".list.hover");e&&(e.classList.remove("hover"),e.style.height=""),n.classList.add("hover"),n.style.height=n.scrollHeight+"px"}})),e.append(t)})),a.forEach((e=>{e.addEventListener("click",(()=>{document.body.classList.contains("body-expand-header")?u():c()}))})),n.show=c,n.hide=u,n.close=l,n.open=s,d("dom.resize.header"+t.id,u),d("dom.scroll.header"+t.id,(e=>{e.isScrollDown&&e.scrollTop>500?l():s()}))},setOptionsBefore:null,setOptionsAfter:null,initBefore:null,initAfter:null,destroyBefore:function(e,t){u("dom.resize.header"+t.id),u("dom.scroll.header"+t.id)}},T=e=>{e.target.closest(".overlay")||e.preventDefault()},k="city";const B={name:"autocomplete",defaultOpt:{method:"GET",type:k,name:"text",delay:300,container:".input",abortController:null},init(e,t,n){let r=e.closest(t.container),i=function(){var e;r.classList.contains("autocomplete-show")||(document.addEventListener("click",a),r.classList.add("autocomplete-show"),e="autocomplete",document.body.classList.contains(`disable-scroll-${e}`)||(document.body.classList.add(`disable-scroll-${e}`),document.body.className.match("disable-scroll-")&&(document.body.style.overflow="hidden",window.addEventListener("touchmove",T,{passive:!1}))))},o=function(){var e;r.classList.contains("autocomplete-show")&&(document.removeEventListener("click",a),r.classList.remove("autocomplete-show"),e="autocomplete",document.body.classList.contains(`disable-scroll-${e}`)&&(document.body.classList.remove(`disable-scroll-${e}`),document.body.className.match("disable-scroll-")||(document.body.style.overflow="",window.removeEventListener("touchmove",T,{passive:!1}))))},a=function(e){e.target.closest(t.container)||o()},l=document.createElement("div");l.className="suggestion-list",r.append(l);let s=function(){if(!e||!e.value||""===e.value.trim())return;let n=e.value;t.timer&&clearTimeout(t.timer),t.timer=setTimeout((()=>{let e,r=t.name,i=t.url,o=t.keys.split(","),a=t.method,s={};s[r]=n,o&&o.length>0&&o.forEach((e=>{e&&(s[e]?console.warn(`key ${e} is existing`):t[e]?s[e]=t[e]:console.warn(`key ${e} haven't set data attribute`))})),t.abortController&&t.abortController.signal&&!1===t.abortController.signal.aborted&&t.abortController.abort(),t.abortController=new AbortController,new AbortController,"GET"===a?i+="?"+new URLSearchParams(s).toString():e=JSON.stringify(s),fetch(i,{method:a,headers:{"Content-Type":"application/json"},body:e,signal:t.abortController.signal}).then((e=>{if(!e.ok)throw new Error(`HTTP error: ${e.status}`);e.json().then((e=>{e&&e.data&&e.data.length>0&&function(e){let n="";e&&e.length>0&&(t.data=e,e.forEach(((e,t)=>{n+=`<div class="suggestion-item" data-index="${t}">${e.city}, ${e.state}</div>`}))),l.innerHTML=n}(e.data)}))})).catch((e=>{console.error("Error sending data:",e)}))}),t.delay)};e.addEventListener("focus",(()=>{i(),s()})),e.addEventListener("input",(()=>{i(),s()})),l.addEventListener("click",(e=>{if(e.target.classList.contains("suggestion-item")){let n=e.target.dataset.index;(function(e){var t,n,r,i;e&&(window.location.href=`/demo/${t=e,"state"===t.type?(i=t.state,i.toLowerCase()):t.type===k?function(e,t){return`${t.toLowerCase()}/${e.replace(/\s+city$/i,"").trim().toLowerCase().replace(/\s+/g,"-")}`}(t.city,t.state):"county"===t.type?function(e,t){return`${t.toLowerCase()}/${e.replace(/\s+county$/i,"").trim().toLowerCase().replace(/\s+/g,"-")}_county`}(t.county,t.state):"zipcode"===t.type?function(e,t){return`${t.toLowerCase()}/${e}`}(t.zipcode,t.state):"neighborhood"===t.type?function(e,t,n){return`${n.toLowerCase()}/${t.replace(/\s+city$/i,"").trim().toLowerCase().replace(/\s+/g,"-")}/${e.toLowerCase().replace(/\s+/g,"-")}_neighborhood`}(t.neighborhood,t.city,t.state):"address"===t.type?(n=t.address,r=t.city,`${t.state.toLowerCase()}/${r.replace(/\s+city$/i,"").trim().toLowerCase().replace(/\s+/g,"-")}/${n.toLowerCase().replace(/\s+/g,"-")}_address`):null}`)})(t.data[n]),o()}})),n.show=i,n.hide=o}};let P="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function N(e){e.removeAttribute("data-src"),e.removeEventListener("load",j),e.removeEventListener("error",D)}function j(e){let t=e.target;t&&(t.classList.add("img-load-success"),N(t))}function D(e){let t=e.target;t&&(t.classList.add("img-load-error"),t.src=P,N(t))}function H(e){let t=e.getAttribute("data-src");t&&(e.addEventListener("load",j),e.addEventListener("error",D),e.src=t)}function M(e){e.forEach((e=>{e.isIntersecting&&(H(e.target),window.observer.unobserve(e.target))}))}const _={name:"lazyload",defaultOpt:{},init:function(e){!function(e){let t=e;t||(t=document),t.querySelectorAll("[data-src]").forEach((e=>{window.IntersectionObserver?function(e){if(!window.observer){const e={rootMargin:"0px 0px 0px 0px",threshold:0};window.observer=new IntersectionObserver(M,e)}window.observer.observe(e)}(e):H(e)}))}(e)},initBefore:function(e){let t=e.getAttribute("src");t!==P&&(e.getAttribute("src",P),e.getAttribute("data-src",t))}},R={name:"tab",defaultOpt:{index:0},init:function(e,t,n){n.toggle=function(t){Number.isInteger(t)&&(t=e.querySelectorAll("[data-target]")[t]),t.classList&&t.classList.contains("active")||(e.querySelectorAll("[data-target].active").forEach((e=>{e.classList.remove("active"),document.querySelectorAll(`[data-id="${e.dataset.target}"]`).forEach((e=>{e.classList.add("hide")}))})),t.classList.add("active"),document.querySelectorAll(`[data-id="${t.dataset.target}"]`).forEach((e=>{e.classList.remove("hide")})))},e.querySelectorAll("[data-target]").forEach(((r,i)=>{e.querySelectorAll(`[data-id="${r.dataset.target}"]`).forEach((e=>{i!==t.index?e.classList.add("hide"):r.classList.add("active")})),r.addEventListener("click",(e=>{n.toggle(e.target)}))}))}},U={name:"shifter",init:function(e,t,n){let r=e,i=document.querySelector('[data-role="scroller"]',r),o=i.clientWidth,a=i.scrollWidth;if(0===i.children.length)return;let l=i.children[0].clientWidth,s=t.step>0?t.step:0;0===s?s=o:s*=l,n.checkArrow=A((()=>{let e=i.scrollLeft;n.hasPrev=!(e<=2),n.hasNext=!(e+o>=a-2),n.hasNext?r.classList.remove("hidden-next"):r.classList.add("hidden-next"),n.hasPrev?r.classList.remove("hidden-prev"):r.classList.add("hidden-prev")}),100),n.next=function(){i.scrollTo(i.scrollLeft+s,0)},n.prev=function(){i.scrollTo(i.scrollLeft-s,0)},i.addEventListener("scroll",n.checkArrow),n.checkArrow(),r.querySelector(".arrow.next").addEventListener("click",n.next),r.querySelector(".arrow.prev").addEventListener("click",n.prev)}};var W=n(23);function z(e){return"INPUT"===e.tagName?"checkbox"===e.type?e.closest(".checkbox"):"radio"===e.type?e.closest(".radio"):e.closest(".input"):"TEXTAREA"===e.tagName?e.closest(".textarea")||e.closest(".input"):"SELECT"===e.tagName?e.closest(".selectbox")||e.closest(".input"):e.parentElement}let X={max:function(e){let t=e.value,n=e.dataset("max");return(W(t)?t:Date.parse(t))-(W(n)?n:Date.parse(n))<=0},less:function(e){let t=e.value,n=e.dataset("less");return(W(t)?t:Date.parse(t))-(W(n)?n:Date.parse(n))<0},min:function(e){let t=e.value,n=e.dataset("min");return(W(t)?t:Date.parse(t))-(W(n)?n:Date.parse(n))>=0},greater:function(e){let t=e.value,n=e.dataset("greater");return(W(t)?t:Date.parse(t))-(W(n)?n:Date.parse(n))>0}},F=function(e,t){let n=z(e);n&&(n.classList.remove("has-success"),t&&n.dataset&&(n.dataset.tooltip=t),n.classList.add("has-error"))},V=function(e,t,n,r){let i=function(e){return e?e.replace(/^\s+|\s+$/g,""):e}(function(e){if("checkbox"===e.type||"radio"===e.type){const t=e.attributes.value?.value;return e.checked?t||"on":""}return e.value}(e)),o=t.indexOf("required")>=0,a="";for(let r=0;r<t.length;r++)switch(t[r]){case"required":if(""===i)return a="* requried",F(e,a),!1;break;case"email":if(i&&!b(i))return a=n||"Invalid Email.",F(e,a),!1;break;case"phone":if(i&&!v(i))return a=n||"Invalid Phone Number",F(e,a),!1;break;case"zipcode":if(i&&!x(i))return a=n||"Invalid Zipcode",F(e,a),!1;break;case"price":if(i&&!w(i))return a=n||"Invalid Price",F(e,a),!1}return X[r]&&!X[r](e)?(F(e,a),!1):(function(e,t){let n=z(e);n&&(n.classList.remove("has-error"),n.dataset?.tooltip&&delete n.dataset.tooltip,t||e.value?n.classList.add("has-success"):n.classList.remove("has-success"))}(e,o),!0)};const G=function(e,t={}){if(!e)return null;let n=null;if(window[e])n=window[e];else try{n=JSON.parse(e)}catch(e){console.error(e)}return n};let Q=function(e,t){return e===t-1?0:e+1},Y=function(e,t){return 0===e?t-1:e-1};const J="current",K="prev",Z="next",ee="preload";let te=function(e,t,n,r,i,o){e&&(e.className!==t&&(e.className=t),n?e.src!==n&&(e.src=n):n="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACAkQBADs=",r&&(e.alt=void 0!==i&&null!=o?`${r} (${i+1} of ${o})`:r))};const ne={collapse:S,shifter:U,dialog:$,form:I,header:O,autocomplete:B,lazyload:_,tab:R,textbox:{name:"textbox",defaultOpt:{},init:function(e,t,n){let r=e.querySelector("input")||e.querySelector("textarea");if(!r)return null;let i=function(){!function(e){let t=e.defaultValue;return!(!e.value||e.value==t)}(r)?e.classList.remove("focus"):e.classList.add("focus")};r.addEventListener("focusin",(function(){e.classList.add("focus")})),r.addEventListener("focusout",(function(){r.value||e.classList.remove("focus")})),r.addEventListener("change",i),i()},setOptionsBefore:null,setOptionsAfter:null,initBefore:null,initAfter:null,destroyBefore:null},validate:{name:"validate",defaultOpt:{errortext:"",addition:null},initBefore:null,init:function(e,t,n){t.type=t.type?t.type.split(","):[],e.addEventListener("change",(function(){V(e,t.type,t.errortext,t.addition)})),n.isValid=function(){return V(e,t.type,t.errortext,t.addition)}},setOptionsBefore:function(e,t,n){n.validate=n.validate?n.validate.split(","):[]},setOptionsAfter:function(e,t,n){e.off("change").addEventListener("change",(function(){V(e,t.type,t.errortext,t.addition)}))},destroyBefore:function(e,t,n){e.off("change")},initAfter:null},player:{name:"player",defaultOpt:{images:[],imgIndex:0,autoPlay:!1,showProcess:!0,showControl:!0,animationDuration:4e3,direction:!0},init(e,t,n){if(!t.images)return;t.images=G(t.images);let r,i=Math.min(t.images.length-1,t.imgIndex),o=function(){return e.querySelector("img:first-of-type")},a=function(){return e.querySelector("img:last-of-type")},l=function(e){let n=i;t.direction?(n=i+1,i===t.images.length-1&&(n=0)):(n=i-1,0===i&&(n=t.images.length-1)),e?(o().src=t.images[i],t.direction?(a().src=t.images[i+1],i===t.images.length-1&&(a().src=t.images[0])):(a().src=t.images[i-1],0===i&&(a().src=t.images[t.images.length-1]))):r&&(r.src=t.images[n])},s=function(){let t=e.querySelector(".player-processing > .active");t&&t.classList.remove("active");let n=e.querySelector(`.player-processing > button[data-index="${i}"]`);n&&n.classList.add("active")},c=function(t){s(),t?(e.classList.add("reset"),l(!0),e.offsetWidth,e.classList.remove("reset"),m()):l(!1)},d=function(e){i=e<0?0:e>t.images.length-1?t.images.length-1:e,c(!0)},u=function(e){i==t.images.length-1?i=0:i++,t.direction=!0,c(e)},p=function(e){0==i?i=t.images.length-1:i--,t.direction=!1,c(e)},m=function(){e.classList.contains("playing")||(e.classList.add("playing"),f("player.play",[t._pid]))},g=function(){e.classList.contains("playing")&&(e.classList.remove("playing"),f("player.pause",[t._pid]))},h=function(){e.classList.contains("playing")?g():m()},y=function(){t.direction?u():p()};if(t.showControl&&(e.innerHTML+='<div class="buttons">\n                <button type="button" aria-label="prev" class="player-prev"></button>\n                <button type="button" aria-label="pause/play" class="player-toggle"></button>\n                <button type=" button" aria-label="next" class="player-next"></button>\n            </div>'),t.showProcess){let n='<div class="player-processing">';for(let e=0;e<t.images.length;e++)n+=`<button data-index="${e}" aria-label="Go to ${e}"></button>`;n+="</div>",e.innerHTML+=n}e.querySelector("img:first-of-type").addEventListener("animationiteration",(()=>{console.log("first"),r=a(),y()})),e.querySelector("img:last-of-type").addEventListener("animationiteration",(()=>{console.log("last"),r=o(),y()})),e.querySelectorAll(".player-processing > button").forEach((e=>{e.addEventListener("click",(()=>{d(Number.parseInt(e.dataset.index))}))})),e.querySelector(".player-toggle").addEventListener("click",(()=>{h()})),e.querySelector(".player-prev").addEventListener("click",(()=>{p(!0)})),e.querySelector(".player-next").addEventListener("click",(()=>{u(!0)})),s(),n.goTo=d,n.goNext=u,n.goPrev=p,n.play=m,n.pause=g,n.toggle=h}},album:{name:"album",defaultOpt:{images:[],autoPlay:!1,showProcess:!0,showControl:!0,direction:!0,preload:!0,duration:.2,throttle:50,alt:""},async init(e,t,n){if(t.imagesUrl)try{const e=await fetch(t.imagesUrl);t.images=await e.json()}catch(e){return void console.error("Error fetching images:",e)}if(!t.images)return;t.images=G(t.images);let r=t.images.length;if(r<=1)return;let i=e.querySelector(".album-list");i||(i=document.createElement("div"),i.className="album-list",e.appendChild(i));let o=e.querySelector("img");o?(t.imgIndex=t.images.findIndex((e=>o.src.indexOf(e)>-1)),o.alt&&!t.alt&&(t.alt=o.alt),t.imgIndex<0&&(t.imgIndex=0,console.warn("initial image not found in album")),te(o,J,t.images[t.imgIndex],t.alt,t.imgIndex,r)):(t.imgIndex=0,o=document.createElement("img"),te(o,J,t.images[t.imgIndex],t.alt,t.imgIndex,r),o.attributes.loading="lazy",i.appendChild(o));let a=document.createElement("img");t.prevIndex=Y(t.imgIndex,r),te(a,K,t.preload?t.images[t.prevIndex]:null,t.alt,t.prevIndex,r),i.appendChild(a);let l,s,c,d,u,f=document.createElement("img");t.nextIndex=Q(t.imgIndex,r),te(f,Z,t.preload?t.images[t.nextIndex]:null,t.alt,t.nextIndex,r),i.appendChild(f),r>3&&(l=document.createElement("img"),te(l,ee,null,t.alt),i.appendChild(l));let p=0;function m(){i.style.transition&&(i.style.transition="none"),p>t.throttle?y():p<0&&p<-1*t.throttle?h():t.preload&&(i.querySelector(`img.${K}`).src=t.images[t.prevIndex],i.querySelector(`img.${Z}`).src=t.images[t.nextIndex],t.preload=!0),i.style.transform=`translateX(${-1*s}px)`,p=0,g()}function g(){if(t.showProcess){let n=e.querySelector(".album-processing > .active");n&&n.classList.remove("active");let r=e.querySelector(`.album-processing > button[data-index="${t.imgIndex}"]`);if(r&&r.classList.add("active"),r){let t=e.querySelector(".album-processing"),n=r.offsetLeft-t.clientWidth/2+r.clientWidth/2;t.scrollTo({left:n,behavior:"smooth"})}}}function h(){t.prevIndex=t.imgIndex,t.imgIndex=t.nextIndex,t.nextIndex=Q(t.nextIndex,r);let e=i.querySelector(`img.${J}`),n=i.querySelector(`img.${K}`);i.querySelector(`img.${Z}`).className=J,e.className=K,l&&(t.preloadIndex=Q(t.nextIndex,r),te(l,ee,t.images[t.preloadIndex],t.alt,t.preloadIndex,r)),te(n,Z,t.images[t.nextIndex],t.alt,t.nextIndex,r)}function y(){t.nextIndex=t.imgIndex,t.imgIndex=t.prevIndex,t.prevIndex=Y(t.prevIndex,r);let e=i.querySelector(`img.${J}`),n=i.querySelector(`img.${K}`),o=i.querySelector(`img.${Z}`);n.className=J,e.className=Z,l&&(t.preloadIndex=Y(t.prevIndex,r),te(l,ee,t.images[t.preloadIndex],t.alt,t.preloadIndex,r)),te(o,K,t.images[t.prevIndex],t.alt,t.prevIndex,r)}let v=void 0!==window.ontouchstart&&!1===window.matchMedia("(hover: hover)").matches,b=v?e=>{let t=e.touches[0];clearTimeout(c),s=i.clientWidth,d=t.clientX,u=t.clientY,e.touches.length>1||m()}:e=>{clearTimeout(c),s=i.clientWidth,m(),d=e.clientX,u=e.clientY},x=v?e=>{i.style.transition&&(i.style.transition="none"),cancelAnimationFrame(c),c=requestAnimationFrame((()=>{let t=e.touches[0];p=t.clientX-d,i.style.transform=`translateX(${-1*s+p}px)`}))}:e=>{d&&(i.style.transition&&(i.style.transition="none"),cancelAnimationFrame(c),c=requestAnimationFrame((()=>{p=e.clientX-d,i.style.transform=`translateX(${-1*s+p}px)`})))},w=v?e=>{d&&(d=null,e.touches.length>0||(cancelAnimationFrame(c),s=i.clientWidth,i.style.transition=`transform ${t.duration}s`,p>0&&p>t.throttle?i.style.transform="translateX(0px)":p<0&&p<-1*t.throttle?i.style.transform=`translateX(${-2*s}px)`:i.style.transform=`translateX(${-1*s}px)`,c=setTimeout((()=>{m()}),1100*t.duration)))}:e=>{d&&(d=null,cancelAnimationFrame(c),s=i.clientWidth,i.style.transition=`transform ${t.duration}s`,p>0&&p>t.throttle?i.style.transform="translateX(0px)":p<0&&p<-1*t.throttle?i.style.transform=`translateX(${-2*s}px)`:i.style.transform=`translateX(${-1*s}px)`,c=setTimeout((()=>{m()}),1100*t.duration))};if(v?(i.addEventListener("touchstart",(e=>{b(e)})),i.addEventListener("touchmove",(e=>{if(1===e.touches.length&&d&&u){const t=Math.abs(e.touches[0].clientX-d),n=Math.abs(e.touches[0].clientY-u);t>n&&n<150?(e.preventDefault(),x(e)):(d=null,u=null)}})),i.addEventListener("touchend",(e=>{e.preventDefault(),w(e)})),i.addEventListener("touchcancel",(e=>{e.preventDefault(),w(e)}))):(i.addEventListener("mousedown",(e=>{e.preventDefault(),b(e)})),i.addEventListener("mousemove",(e=>{e.preventDefault(),x(e)})),i.addEventListener("mouseup",(e=>{e.preventDefault(),w(e)})),i.addEventListener("mouseleave",(e=>{e.preventDefault(),w(e)}))),t.showProcess){let n=document.createElement("div");n.className="album-processing";for(let e=0;e<r;e++){let i=document.createElement("button");i.setAttribute("aria-label",`Go to ${e+1}`),i.setAttribute("data-index",e),i.addEventListener("click",(function(){e!==t.imgIndex&&(t.imgIndex=e,t.prevIndex=Y(e,r),t.nextIndex=Q(e,r),te(o,J,t.images[e],t.alt,e,r),te(a,K,t.images[t.prevIndex],t.alt,t.prevIndex,r),te(f,Z,t.images[t.nextIndex],t.alt,t.nextIndex,r),g())})),n.appendChild(i)}e.appendChild(n),g()}return n.next=h,n.prev=y,n}}},re=[["innerHTML",Element.prototype],["outerHTML",Element.prototype],["textContent",Node.prototype],["innerText",HTMLElement.prototype]];let ie=!1;const oe=new Set;!function(){const e=h.namespace;re.forEach((([t,n])=>{const r=Object.getOwnPropertyDescriptor(n,t);if(r&&r.set){const i=r.set;Object.defineProperty(n,t,{set:function(n){this.dataset&&"function"==typeof this.querySelectorAll?(function(e,t,n){const r=n;e.dataset&&e.dataset[r]&&(l(`[DOM Hook] Element will be removed via ${t}:`,(e.tagName,e.id,e.className,e.dataset[r])),h.pendingCleanup.add(e)),e.querySelectorAll(`[data-${r}]`).forEach((n=>{l(`[DOM Hook] Child element will be removed via ${t}:`,(n.tagName,n.id,n.className,n.dataset[r],e.tagName)),h.pendingCleanup.add(n)}))}(this,t,e),oe.add(this),i.call(this,n),function(){if(ie)return;ie=!0;const e=()=>{ie=!1,h.pendingCleanup.size>0&&(l(`[DOM Hook] Scheduling cleanup for ${h.pendingCleanup.size} element(s)`),h.scheduleCleanup()),oe.size>0&&(f("dom.updated",{elements:Array.from(oe)}),oe.clear())};"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,0)}()):i.call(this,n)},get:r.get,configurable:!0,enumerable:r.enumerable})}}))}(),function(e,t=null){const n=window||window;for(var r in ne)new h(ne[r]);n.ctx||(n.ctx={}),new E(n.ctx,t).init().then((e=>{Object.assign(n,{exportObj:e,Plugin:h})}))}()})()})();